<!--------------------------------------------------------------------

   Module: Example of class implemented in functional style

   Author: Mike Chantler


   Version history
  	v001	15/08/2018	mjc	Created.



---------------------------------------------------------------------->

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Class implemented in functions example</title>
	<style>
		* {
			font-family: Sans-serif;
			color: black;
		}
		.comment, .code {
			display: block;
			unicode-bidi: embed;
			font-family: monospace;
			white-space: pre;
		}
		.comment {color: limegreen}
		.code {color: blue}
	</style>
	<script type="text/javascript" src="d3/d3.v4.js"></script>
	<script src="lib/utilities/exampleClassInFunctionalStyleNoConsole.js"></script>

</head>
<body>
<h1>Example of class implemented in functional style</h1>
<h3>Important</h3>
<p>We will use this in all future examples to implement modular applications.</p>
<p>Make sure that you know this inside out.</p>
<p>Ask questions about anything you do not understand here.</p>
<h3>Instructions</h3>
<ol>

<li>These instructions assume that you are viewing this html file in Firefox</li>

<li>Examine lib/utilities/exampleClassInFunctionalStyleNoConsole.js, particularly the public methods</li>

<li>Examine source of this html file. Note that it has no code but does pull in exampleClassInFunctionalStyle.js as a script</li>

<li>Hit "Ctrl + shift K" and copy and paste the following at the Console:
<p class="comment">//Create instance of the class:
<p class="code">var myObject1 = myClass();</code>
<p>Now inspect myObject1 by typing "myObject1" on the Console. Expand the object and note that you can see the object's public functions (methods).</p>

<li>Check that you can load and get back arrays of numeric values:
<p class="code">myObject1.loadAndProcessData([1,2,3,4,5]);
myObject1.getData();

<li>Now create a new function and test that it works
<p class="comment">//Create a new arithmetic function and check that it exists:
<p class="code">function addOneThousand(d) {return d +1000;};
addOneThousand;
<p class="comment">//Check that it works:
<p class="code">addOneThousand(44.5);


<li>Use this new function to override the unity function in myObject1
<p class="code">myObject1
	.overrideArithmentFunction1(addOneThousand)</p>

<li>Now use myObject1 to process a dataset:
<p class="comment">//Load and process new data with "addOneThousand()" function
<p class="code">myObject1
	.loadAndProcessData([5,6,7,40,50,60])
	.getData();</p>
<p>Check that you get the correct result
<p></p>

<li>Note that the above uses "method chaining" facilitated by the "return myObject; //for method chaining" statement in the loadAndProcessData() method.
Note that you can 'unchain' the above:

<p class="code">var myReturnObject = myObject1.loadAndProcessData([5,6,7,40,50,60]);
myReturnObject.getData();</p>
<p>Check that you get the same result
<p></p>


<li>Try commands below one at a time:</li>
<p class="comment">
//Create second instance of the class:
<p class="code">var myObject2 = myClass();

<p class="comment">//Square operator:
//Use lazy arrow syntax to create anonymous, in-line function
//use anonymous function to override function in myObject2 instance
// why is there no ";" for some lines of code?? ****QUESTION FOR THE LECTURER***
<p class="code">myObject2
	.overrideArithmentFunction1(d => d*d)

<p class="comment">//Use to process data set:
<p class="code">myObject2
	.loadAndProcessData([1,2,3,4,5,6,7]);

<p class="comment">//Now use lazy syntax and constructor and public methods and lets throw in a 'z' to see what happens:
//(NB: you do not use round brackets when passing a reference to a function)
<p class="code">cubeArrayElements = myClass()
	.overrideArithmentFunction1(d=>d*d*d)
	.loadAndProcessData([1,2,3,4,"z"]);

<p class="comment">//And finally an example with a Math library function:
<p class="code">logArrayElements = myClass()
	.overrideArithmentFunction1(Math.log10)
	.loadAndProcessData([0.1,1,10,10000000,"z"]);
</code>
<li>Finally go back to exampleClassInFunctionalStyle.js and re-examine the code.
Use the console and examples similar to the above to investigate anything you don't understand.</li>

</ol>

</body>
</html>
